<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up | Pamper Your Pet</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <!-- AOS CSS -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <style>
      body {
        font-family: system-ui, -apple-system, "Segoe UI", Roboto,
          "Helvetica Neue", Arial, sans-serif;
      }
      .form-card {
        background-color: #fffefeed;
        border: none;
        border-radius: 0.75rem;
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.1);
      }
      .form-card .form-control:focus {
        border-color: rgb(0, 0, 0);
        box-shadow: 0 0 0 0.2rem rgba(105, 97, 98, 0.25);
      }
      .form-card .btn-danger {
        background-color: rgb(3, 3, 3);
        border-color: rgb(78, 68, 69);
      }
      .form-card .btn-danger:hover {
        background-color: rgb(113, 106, 107);
        border-color: rgb(120, 116, 116);
      }
      
    </style>
    
  </head>
  <body class="bg-dark">
    <div
      class="d-flex align-items-center justify-content-center min-vh-100 px-3"
      data-aos="fade-up" 
      data-aos-duration="2000"  
    >
      <div class="w-100" style="max-width: 400px">
        <form action="/api/users/signUp" method="POST" class="form-card p-3 p-sm-4">
          <!-- Brand & Welcome -->
          <div class="text-center mb-3">
            <a href="/">
                <img
                  src="/images/logo.jpg"
                  alt="Logo"
                  width="48"
                  height="48"
                  class="mb-2 rounded-circle"
                />
              </a>
            <h2 class="fw-bold mb-1">Create an Account</h2>
            <p class="text-muted small mb-2">Sign up to get started</p>
          </div>

          <!-- Email -->
          <div class="form-floating mb-1">
            <input
              type="email"
              name="email"
              class="form-control rounded-3"
              id="floatingEmail"
              placeholder="name@example.com"
              required
            />
            <label for="floatingEmail">Email address</label>
          </div>

          <!-- Password -->
          <div class="form-floating mb-1">
            <input
              type="password"
              name="password"
              class="form-control rounded-3"
              id="floatingPassword"
              placeholder="Password"
              pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$"
              title="Password must be at least 8 characters and include uppercase, lowercase, number, and special character"

              required
            />
            <label for="floatingPassword">Password</label>
            <button
            type="button"
            class="btn position-absolute top-50 end-0 translate-middle-y me-3 p-0 border-0 bg-transparent"
            onclick="togglePassword('floatingPassword', 'toggleIcon')"
            style="z-index: 10"
          >
            <i id="toggleIcon" class="bi bi-eye-fill"></i>
          </button>
                  </div>
                  <script>
                    function togglePassword(inputId, iconId) {
                      const input = document.getElementById(inputId);
                      const icon = document.getElementById(iconId);
                  
                      if (input.type === "password") {
                        input.type = "text";
                        icon.classList.remove("bi-eye-fill");
                        icon.classList.add("bi-eye-slash-fill");
                      } else {
                        input.type = "password";
                        icon.classList.remove("bi-eye-slash-fill");
                        icon.classList.add("bi-eye-fill");
                      }
                    }
                  </script>

          <!-- Confirm Password -->
          <div class="form-floating mb-1">
            <input
              type="password"
              name="confirmPassword"
              class="form-control rounded-3"
              id="floatingConfirmPassword"
              placeholder="Confirm Password"
              
              required
            />
            <label for="floatingConfirmPassword">Confirm Password</label>
            <span id="error-message" style="color: red; font-size: 0.9rem; display: none;">Passwords do not match.</span>
            <button
            type="button"
            class="btn position-absolute top-50 end-0 translate-middle-y me-3 p-0 border-0 bg-transparent"
            onclick="togglePassword('floatingConfirmPassword', 'toggleIcon2')"
            style="z-index: 10"
          >
            <i id="toggleIcon2" class="bi bi-eye-fill"></i>
          </button>
                  </div>
                  <script>
                    function togglePassword(inputId, iconId) {
                      const input = document.getElementById(inputId);
                      const icon = document.getElementById(iconId);
                  
                      if (input.type === "password") {
                        input.type = "text";
                        icon.classList.remove("bi-eye-fill");
                        icon.classList.add("bi-eye-slash-fill");
                      } else {
                        input.type = "password";
                        icon.classList.remove("bi-eye-slash-fill");
                        icon.classList.add("bi-eye-fill");
                      }
                    }
                  </script>
                  <script>
                   const form = document.querySelector("form");
const passwordInput = document.getElementById("floatingPassword");
const confirmPasswordInput = document.getElementById("floatingConfirmPassword");
const errorMessage = document.getElementById("error-message");

form.addEventListener("submit", function (e) {
  if (passwordInput.value !== confirmPasswordInput.value) {
    e.preventDefault(); // Stop form submission
    errorMessage.style.display = "block"; // Show the error message
    confirmPasswordInput.focus(); // Focus the Confirm Password field
  } else {
    errorMessage.style.display = "none"; // Hide the error message if the passwords match
  }
                     });

                  </script>
                  
          <!-- Sign Up Button -->
          <button
            class="w-100 btn btn-danger btn-lg rounded-3 mb-2"
            type="submit"
          >
            Sign Up
          </button>

          <!-- Or Divider -->
          <div class="d-flex align-items-center mb-2">
            <hr class="flex-grow-1 me-2" />
            <small class="text-muted">Or sign up with</small>
            <hr class="flex-grow-1 ms-2" />
          </div>

          <!-- Social Login -->
          <div class="d-grid gap-2 mb-2">
            <a
              href="https://accounts.google.com/signup"
              target="_blank"
              class="btn btn-outline-danger rounded-3 d-flex align-items-center justify-content-center"
            >
              <i class="bi bi-google me-2"></i> Google
            </a>
            <a
              href="https://www.facebook.com/r.php"
              target="_blank"
              class="btn btn-outline-primary rounded-3 d-flex align-items-center justify-content-center"
            >
              <i class="bi bi-facebook me-2"></i> Facebook
            </a>
            <a
              href="https://www.instagram.com/accounts/emailsignup/"
              target="_blank"
              class="btn btn-outline-dark rounded-3 d-flex align-items-center justify-content-center"
            >
              <i class="bi bi-instagram me-2"></i> Instagram
            </a>
          </div>

          <!-- Sign In Link -->
          <div class="text-center small">
            <span>
              Already have an account?
              <a href="./signIn.ejs" class="text-danger fw-semibold">Sign In</a>
            </span>
          </div>
        </form>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- AOS JS -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      // Initialize AOS
      AOS.init({
        duration: 1000, // Duration of animation
        once: true, // Animation runs only once
      });
    </script>
  </body>
</html>
